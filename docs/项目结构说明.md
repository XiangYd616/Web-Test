# Test Web App é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸŒ **ç¯å¢ƒæ¶æ„**

é¡¹ç›®é‡‡ç”¨**åŒæ•°æ®åº“æ¶æ„**ï¼Œæ”¯æŒå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨åˆ‡æ¢ï¼š

| ç¯å¢ƒ | æ•°æ®åº“ | é…ç½®æ–‡ä»¶ | å¯åŠ¨æ–¹å¼ |
|------|--------|----------|----------|
| å¼€å‘ç¯å¢ƒ | `testweb_dev` | `.env` | `npm start` |
| ç”Ÿäº§ç¯å¢ƒ | `testweb_prod` | `.env.production` | `NODE_ENV=production npm start` |

## ğŸ“ æ•´ä½“ç»“æ„

```
Test-Web/
â”œâ”€â”€ ğŸ“‚ src/                     # å‰ç«¯æºä»£ç 
â”œâ”€â”€ ğŸ“‚ server/                  # åç«¯æºä»£ç 
â”œâ”€â”€ ğŸ“‚ electron/                # Electronæ¡Œé¢ç‰ˆ
â”œâ”€â”€ ğŸ“‚ docs/                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“‚ public/                  # é™æ€èµ„æº
â”œâ”€â”€ ğŸ“‚ dist/                    # æ„å»ºè¾“å‡º
â”œâ”€â”€ ğŸ“‚ scripts/                 # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ package.json             # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ .env                     # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ ğŸ“„ .env.production          # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ ğŸ“„ STARTUP_GUIDE.md         # å¯åŠ¨æŒ‡å—
â”œâ”€â”€ ğŸ“„ ENVIRONMENT_SETUP.md     # ç¯å¢ƒé…ç½®æŒ‡å—
â”œâ”€â”€ ğŸ“„ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ ğŸ“„ vite.config.ts           # Viteé…ç½®
```

## ğŸ¨ å‰ç«¯ç»“æ„ (src/)

```
src/
â”œâ”€â”€ ğŸ“‚ components/              # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ modern/             # ç°ä»£åŒ–UIç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ AppRoutes.tsx       # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ ErrorBoundary.tsx   # é”™è¯¯è¾¹ç•Œ
â”‚   â””â”€â”€ ğŸ“„ LoadingSpinner.tsx  # åŠ è½½ç»„ä»¶
â”œâ”€â”€ ğŸ“‚ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ Login.tsx           # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ ğŸ“„ Register.tsx        # æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ ğŸ“„ Dashboard.tsx       # ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ ğŸ“„ WebsiteTest.tsx     # ç½‘ç«™æµ‹è¯•
â”‚   â”œâ”€â”€ ğŸ“„ DatabaseTest.tsx    # æ•°æ®åº“æµ‹è¯•
â”‚   â””â”€â”€ ğŸ“„ DataCenter.tsx      # æ•°æ®ä¸­å¿ƒ
â”œâ”€â”€ ğŸ“‚ contexts/                # React Context
â”‚   â”œâ”€â”€ ğŸ“„ AuthContext.tsx     # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â””â”€â”€ ğŸ“„ ThemeContext.tsx    # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”œâ”€â”€ ğŸ“‚ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ ğŸ“„ useAuth.ts          # è®¤è¯Hook
â”‚   â””â”€â”€ ğŸ“„ useNotifications.ts # é€šçŸ¥Hook
â”œâ”€â”€ ğŸ“‚ services/                # APIæœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“‚ auth/               # è®¤è¯æœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ authService.ts  # ç»Ÿä¸€è®¤è¯æœåŠ¡
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts        # è®¤è¯æœåŠ¡å¯¼å‡º
â”‚   â”œâ”€â”€ ğŸ“‚ analytics/          # åˆ†ææœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ analyticsService.ts # é«˜çº§åˆ†ææœåŠ¡
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts        # åˆ†ææœåŠ¡å¯¼å‡º
â”‚   â”œâ”€â”€ ğŸ“‚ api/                # APIæœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“‚ testing/            # æµ‹è¯•æœåŠ¡æ¨¡å—
â”‚   â””â”€â”€ ğŸ“„ [å…¶ä»–æœåŠ¡].ts       # å…¶ä»–ç‹¬ç«‹æœåŠ¡
â”œâ”€â”€ ğŸ“‚ styles/                  # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ theme.css           # ä¸»é¢˜æ ·å¼
â”‚   â”œâ”€â”€ ğŸ“„ light-theme.css     # æµ…è‰²ä¸»é¢˜
â”‚   â””â”€â”€ ğŸ“„ dark-theme.css      # æ·±è‰²ä¸»é¢˜
â”œâ”€â”€ ğŸ“‚ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ api.ts              # APIå·¥å…·
â”‚   â””â”€â”€ ğŸ“„ helpers.ts          # è¾…åŠ©å‡½æ•°
â””â”€â”€ ğŸ“„ main.tsx                 # åº”ç”¨å…¥å£
```

## ğŸ”§ åç«¯ç»“æ„ (server/) - ç»Ÿä¸€JavaScriptæ¶æ„

**é‡è¦è¯´æ˜**: é¡¹ç›®ä½¿ç”¨ç»Ÿä¸€çš„JavaScriptåç«¯æ¶æ„ï¼Œå·²ç§»é™¤TypeScriptç‰ˆæœ¬ä»¥é¿å…æ··æ·†ã€‚

```
server/
â”œâ”€â”€ ğŸ“‚ routes/                  # APIè·¯ç”± (JavaScript)
â”‚   â”œâ”€â”€ ğŸ“„ auth.js             # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ ğŸ“„ test.js             # æµ‹è¯•è·¯ç”± (åŒ…å«å‹åŠ›æµ‹è¯•API)
â”‚   â”œâ”€â”€ ğŸ“„ users.js            # ç”¨æˆ·è·¯ç”±
â”‚   â””â”€â”€ ğŸ“„ admin.js            # ç®¡ç†è·¯ç”±
â”œâ”€â”€ ğŸ“‚ models/                  # æ•°æ®æ¨¡å‹ (JavaScript)
â”‚   â”œâ”€â”€ ğŸ“„ User.js             # ç”¨æˆ·æ¨¡å‹
â”‚   â”œâ”€â”€ ğŸ“„ TestHistory.js      # æµ‹è¯•å†å²
â”‚   â””â”€â”€ ğŸ“„ SystemSettings.js   # ç³»ç»Ÿè®¾ç½®
â”œâ”€â”€ ğŸ“‚ services/                # ä¸šåŠ¡é€»è¾‘ (JavaScript)
â”‚   â”œâ”€â”€ ğŸ“„ realStressTestEngine.js  # çœŸå®å‹åŠ›æµ‹è¯•å¼•æ“
â”‚   â”œâ”€â”€ ğŸ“„ realTestEngine.js   # çœŸå®æµ‹è¯•å¼•æ“
â”‚   â”œâ”€â”€ ğŸ“„ realK6Engine.js     # K6æµ‹è¯•å¼•æ“
â”‚   â””â”€â”€ ğŸ“„ realSecurityTestEngine.js # å®‰å…¨æµ‹è¯•
â”œâ”€â”€ ğŸ“‚ middleware/              # ä¸­é—´ä»¶ (JavaScript)
â”‚   â”œâ”€â”€ ğŸ“„ auth.js             # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ ğŸ“„ errorHandler.js     # é”™è¯¯å¤„ç†
â”œâ”€â”€ ğŸ“‚ utils/                   # å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“‚ config/                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“‚ logs/                    # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ app.js                   # åº”ç”¨å…¥å£ (ä¸»æœåŠ¡å™¨æ–‡ä»¶)
â”œâ”€â”€ ğŸ“„ package.json             # åç«¯ä¾èµ–
â”œâ”€â”€ ğŸ“„ BACKEND_CLEANUP.md       # åç«¯æ¸…ç†è¯´æ˜
â””â”€â”€ ğŸ“„ START_HERE.md            # å¯åŠ¨è¯´æ˜ (æé†’åœ¨æ ¹ç›®å½•å¯åŠ¨)
```

### ğŸ¯ åç«¯æ¶æ„ç‰¹ç‚¹
- **ç»Ÿä¸€JavaScriptæ¶æ„** - é¿å…å¤šç‰ˆæœ¬æ··æ·†ï¼Œç®€åŒ–ç»´æŠ¤
- **çœŸå®æµ‹è¯•å¼•æ“** - é›†æˆK6ã€Lighthouseã€Playwrightç­‰çœŸå®æµ‹è¯•å·¥å…·
- **å®Œæ•´APIæ”¯æŒ** - åŒ…å«å‹åŠ›æµ‹è¯•å®æ—¶çŠ¶æ€æŸ¥è¯¢API
- **å®‰å…¨è®¤è¯** - JWTä»¤ç‰Œè®¤è¯ + æƒé™æ§åˆ¶
- **æ•°æ®åº“é›†æˆ** - PostgreSQL + ä¸»ä»è¡¨è®¾è®¡ï¼Œæ”¯æŒ7ç§æµ‹è¯•ç±»å‹
- **å•ä¸€å¯åŠ¨å…¥å£** - ç»Ÿä¸€ä½¿ç”¨ `npm start` åœ¨æ ¹ç›®å½•å¯åŠ¨

## ğŸ–¥ï¸ æ¡Œé¢ç‰ˆç»“æ„ (electron/)

```
electron/
â”œâ”€â”€ ğŸ“„ main.js                  # ä¸»è¿›ç¨‹
â”œâ”€â”€ ğŸ“„ preload.js              # é¢„åŠ è½½è„šæœ¬
â”œâ”€â”€ ğŸ“„ package.json            # Electroné…ç½®
â””â”€â”€ ğŸ“‚ assets/                  # æ¡Œé¢ç‰ˆèµ„æº
```

## ğŸ“š æ–‡æ¡£ç»“æ„ (docs/)

```
docs/
â”œâ”€â”€ ğŸ“„ å¯åŠ¨æŒ‡å—.md              # å¯åŠ¨æŒ‡å—
â”œâ”€â”€ ğŸ“„ é¡¹ç›®ç»“æ„è¯´æ˜.md          # æœ¬æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ POSTGRESQL_SETUP.md     # æ•°æ®åº“é…ç½®
â”œâ”€â”€ ğŸ“„ modern-design-system.md # è®¾è®¡ç³»ç»Ÿ
â”œâ”€â”€ ğŸ“„ æµ…è‰²ä¸»é¢˜å®Œå–„æ€»ç»“.md      # ä¸»é¢˜è¯´æ˜
â””â”€â”€ ğŸ“„ æ•°æ®ä¸­å¿ƒç»“æ„è¯´æ˜.md      # æ•°æ®ä¸­å¿ƒè¯´æ˜
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### å‰ç«¯é…ç½®
- `vite.config.ts` - Viteæ„å»ºé…ç½®
- `tailwind.config.js` - Tailwind CSSé…ç½®
- `tsconfig.json` - TypeScripté…ç½®

### åç«¯é…ç½®
- `server/.env` - ç¯å¢ƒå˜é‡é…ç½®
- `server/package.json` - åç«¯ä¾èµ–å’Œè„šæœ¬

### æ•°æ®åº“é…ç½®
- `server/scripts/master-detail-test-history-schema.sql` - ä¸»ä»è¡¨ç»“æ„è„šæœ¬
- `server/scripts/compatible-init-database.sql` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- `server/config/database.js` - æ•°æ®åº“è¿æ¥é…ç½®
- `docs/database-migration-guide.md` - æ•°æ®åº“è¿ç§»æŒ‡å—

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### è®¤è¯ç³»ç»Ÿ
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- JWTä»¤ç‰Œç®¡ç†
- æƒé™æ§åˆ¶

### æµ‹è¯•å¼•æ“
- å‹åŠ›æµ‹è¯• (K6)
- å…¼å®¹æ€§æµ‹è¯• (Playwright)
- å®‰å…¨æµ‹è¯•
- APIæµ‹è¯•

### æ•°æ®ç®¡ç†
- æµ‹è¯•å†å²è®°å½•
- æ•°æ®å¯¼å…¥/å¯¼å‡º
- å®æ—¶ç›‘æ§

### ç”¨æˆ·ç•Œé¢
- å“åº”å¼è®¾è®¡
- ä¸»é¢˜åˆ‡æ¢
- ç°ä»£åŒ–UIç»„ä»¶

## ğŸ“Š æ•°æ®æµå‘

```
ç”¨æˆ·ç•Œé¢ (React) 
    â†“
APIæœåŠ¡ (Express)
    â†“
ä¸šåŠ¡é€»è¾‘ (Services)
    â†“
æ•°æ®åº“ (PostgreSQL)
```

## ğŸ”„ å¼€å‘å·¥ä½œæµ

1. **å‰ç«¯å¼€å‘**: ä¿®æ”¹ `src/` ä¸‹çš„æ–‡ä»¶
2. **åç«¯å¼€å‘**: ä¿®æ”¹ `server/` ä¸‹çš„æ–‡ä»¶
3. **æ ·å¼è°ƒæ•´**: ä¿®æ”¹ `src/styles/` ä¸‹çš„CSSæ–‡ä»¶
4. **APIæ¥å£**: åœ¨ `server/routes/` æ·»åŠ æ–°è·¯ç”±
5. **æ•°æ®æ¨¡å‹**: åœ¨ `server/models/` å®šä¹‰æ•°æ®ç»“æ„

## ğŸ“ ä»£ç è§„èŒƒ

### æ–‡ä»¶å‘½å
- Reactç»„ä»¶: PascalCase (å¦‚ `UserProfile.tsx`)
- å·¥å…·å‡½æ•°: camelCase (å¦‚ `apiHelper.ts`)
- æ ·å¼æ–‡ä»¶: kebab-case (å¦‚ `theme-variables.css`)

### ç›®å½•ç»„ç»‡
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
- ç›¸å…³æ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•
- ä¿æŒç›®å½•ç»“æ„æ¸…æ™°ç®€æ´

## ğŸš€ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°é¡µé¢
1. åœ¨ `src/pages/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/components/AppRoutes.tsx` æ·»åŠ è·¯ç”±
3. åœ¨ä¾§è¾¹æ èœå•ä¸­æ·»åŠ å¯¼èˆª

### æ·»åŠ æ–°API
1. åœ¨ `server/routes/` åˆ›å»ºè·¯ç”±æ–‡ä»¶
2. åœ¨ `server/app.js` ä¸­æ³¨å†Œè·¯ç”±
3. åœ¨å‰ç«¯ `src/services/` åˆ›å»ºå¯¹åº”æœåŠ¡

### æ·»åŠ æ–°æµ‹è¯•å¼•æ“
1. åœ¨ `server/services/` åˆ›å»ºå¼•æ“æ–‡ä»¶
2. å®ç°æ ‡å‡†æµ‹è¯•æ¥å£
3. åœ¨å‰ç«¯æ·»åŠ å¯¹åº”çš„UIç»„ä»¶
