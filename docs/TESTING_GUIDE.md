# æµ‹è¯•é…ç½®æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜äº†Test-Webé¡¹ç›®ä¸­å„ç§æµ‹è¯•çš„é…ç½®å’Œä½¿ç”¨æ–¹å¼ã€‚

## ğŸ“Š æµ‹è¯•æ¶æ„æ¦‚è§ˆ

```
Test-Web/
â”œâ”€â”€ frontend/tests/          # å‰ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ unit/               # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ integration/        # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ setup/              # æµ‹è¯•é…ç½®
â”œâ”€â”€ backend/tests/          # åç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ unit/               # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/        # é›†æˆæµ‹è¯•
â”œâ”€â”€ e2e/                    # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ tests/                  # å…±äº«æµ‹è¯•èµ„æº
â””â”€â”€ config/testing/         # æµ‹è¯•é…ç½®æ–‡ä»¶
```

## ğŸ”§ æµ‹è¯•æ¡†æ¶

### å‰ç«¯æµ‹è¯• - Vitest
- **æ¡†æ¶**: Vitest + React Testing Library
- **é…ç½®**: `vite.config.ts`
- **è¿è¡Œç¯å¢ƒ**: jsdom
- **è¦†ç›–ç‡ç›®æ ‡**: 75%

**å¸¸ç”¨å‘½ä»¤**:
```bash
# è¿è¡Œæ‰€æœ‰å‰ç«¯æµ‹è¯•
yarn test

# è¿è¡Œæµ‹è¯•å¹¶è§‚å¯Ÿæ–‡ä»¶å˜åŒ–
yarn test:watch

# è¿è¡Œæµ‹è¯• UI
yarn test:ui

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
yarn test:coverage
```

### åç«¯æµ‹è¯• - Jest
- **æ¡†æ¶**: Jest + Supertest
- **é…ç½®**: `backend/package.json`
- **è¿è¡Œç¯å¢ƒ**: Node.js
- **è¦†ç›–ç‡ç›®æ ‡**: 75%

**å¸¸ç”¨å‘½ä»¤**:
```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# è¿è¡Œæ‰€æœ‰åç«¯æµ‹è¯•
yarn test

# è§‚å¯Ÿæ¨¡å¼è¿è¡Œæµ‹è¯•
yarn test:watch

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
yarn test:coverage
```

### E2Eæµ‹è¯• - Playwright
- **æ¡†æ¶**: Playwright
- **é…ç½®**: `config/testing/playwright.config.ts`
- **æµ‹è¯•ç›®å½•**: `e2e/`
- **æ”¯æŒæµè§ˆå™¨**: Chrome, Firefox, Safari, Edge

**å¸¸ç”¨å‘½ä»¤**:
```bash
# è¿è¡Œæ‰€æœ‰E2Eæµ‹è¯•
yarn e2e

# è¿è¡Œæµ‹è¯• UI
yarn e2e:ui

# æœ‰å¤´æ¨¡å¼è¿è¡Œæµ‹è¯•
yarn e2e:headed

# è°ƒè¯•æ¨¡å¼
yarn e2e:debug
```

## ğŸ“ æµ‹è¯•æ–‡ä»¶ç»„ç»‡

### å‘½åçº¦å®š
- **å•å…ƒæµ‹è¯•**: `*.test.ts|tsx`
- **é›†æˆæµ‹è¯•**: `*.integration.test.ts|tsx`
- **E2Eæµ‹è¯•**: `*.spec.ts`

### æ–‡ä»¶ä½ç½®
- **ç»„ä»¶æµ‹è¯•**: ä¸ç»„ä»¶æ–‡ä»¶åŒç›®å½•çš„ `__tests__` æ–‡ä»¶å¤¹
- **æœåŠ¡æµ‹è¯•**: `frontend/tests/unit/` æˆ– `backend/tests/unit/`
- **é›†æˆæµ‹è¯•**: `*/tests/integration/`
- **E2Eæµ‹è¯•**: `e2e/`

## âš™ï¸ é…ç½®è¯¦è§£

### Vitest é…ç½®
```typescript
// vite.config.ts
test: {
  globals: true,
  environment: 'jsdom',
  setupFiles: ['./frontend/tests/setup/setup.ts'],
  coverage: {
    provider: 'v8',
    thresholds: {
      branches: 75,
      functions: 75,
      lines: 75,
      statements: 75
    }
  }
}
```

### Jest é…ç½®
```json
{
  "testEnvironment": "node",
  "coverageThreshold": {
    "global": {
      "branches": 75,
      "functions": 75,
      "lines": 75,
      "statements": 75
    }
  }
}
```

### Playwright é…ç½®
```typescript
// config/testing/playwright.config.ts
export default defineConfig({
  testDir: './e2e',
  baseURL: 'http://localhost:5174',
  webServer: {
    command: 'yarn dev',
    url: 'http://localhost:5174'
  }
});
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
yarn install
```

### 2. è¿è¡Œå¼€å‘æœåŠ¡å™¨
```bash
yarn dev
```

### 3. è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
yarn test

# E2Eæµ‹è¯•
yarn e2e
```

## ğŸ“ æœ€ä½³å®è·µ

### 1. æµ‹è¯•æ–‡ä»¶ç¼–å†™
- æ¯ä¸ªæµ‹è¯•æ–‡ä»¶åº”è¯¥ä¸“æ³¨äºæµ‹è¯•ä¸€ä¸ªæ¨¡å—æˆ–åŠŸèƒ½
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- éµå¾ª AAA æ¨¡å¼ï¼šArrange, Act, Assert

### 2. Mock å’Œå­˜æ ¹
- åœ¨å•å…ƒæµ‹è¯•ä¸­æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–
- ä½¿ç”¨æµ‹è¯•æ•°æ®å·¥å‚åˆ›å»ºæµ‹è¯•æ•°æ®
- é¿å…åœ¨æµ‹è¯•ä¸­ä½¿ç”¨çœŸå®çš„APIè°ƒç”¨

### 3. è¦†ç›–ç‡ç›®æ ‡
- ä¿æŒ75%ä»¥ä¸Šçš„ä»£ç è¦†ç›–ç‡
- é‡ç‚¹å…³æ³¨åˆ†æ”¯è¦†ç›–ç‡
- ä¸è¦ä¸ºäº†è¦†ç›–ç‡è€Œå†™æ— æ„ä¹‰çš„æµ‹è¯•

### 4. E2Eæµ‹è¯•
- ä¸“æ³¨äºæ ¸å¿ƒç”¨æˆ·æµç¨‹
- ä½¿ç”¨Page Objectæ¨¡å¼
- ç¡®ä¿æµ‹è¯•çš„ç‹¬ç«‹æ€§å’Œå¯é‡å¤æ€§

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**
   - ç¡®ä¿å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨5174ç«¯å£
   - æ£€æŸ¥å…¶ä»–æœåŠ¡æ˜¯å¦å ç”¨äº†ç«¯å£

2. **æµ‹è¯•æ–‡ä»¶æ‰¾ä¸åˆ°**
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿æ–‡ä»¶åç¬¦åˆå‘½åçº¦å®š

3. **è¦†ç›–ç‡ä¸è¶³**
   - æ£€æŸ¥æ˜¯å¦æœ‰æœªæµ‹è¯•çš„åˆ†æ”¯
   - æ·»åŠ è¾¹ç•Œæƒ…å†µæµ‹è¯•

4. **E2Eæµ‹è¯•å¤±è´¥**
   - ç¡®ä¿å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ
   - æ£€æŸ¥é¡µé¢å…ƒç´ æ˜¯å¦å‘ç”Ÿå˜åŒ–

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–åœ¨é¡¹ç›®Issuesä¸­æå‡ºã€‚

---

*æœ€åæ›´æ–°ï¼š2025-09-19*
