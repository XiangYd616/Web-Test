# 🪟 窗口1 - 前端UI开发环境（主仓库）

## 📍 当前位置
- **工作目录**: `D:\myproject\Test-Web`
- **Git 分支**: `feature/frontend-ui-dev`  
- **主要职责**: 前端UI开发、React组件、页面布局、用户交互

## 🎯 工作目标
作为**窗口1 - 前端UI开发窗口**，专注于：
1. React组件开发
2. 页面UI设计和实现
3. 前端路由配置
4. 状态管理（Hooks）
5. 样式开发（TailwindCSS）

## 🚀 快速启动
```bash
# 启动前端开发服务器（端口 5174）
npm run frontend

# 或完整开发环境（前端+后端）
npm run dev
```

## 📂 项目结构
```
frontend/
├── components/         # React组件
│   ├── admin/         # 管理员组件
│   ├── analysis/      # 分析组件
│   ├── auth/          # 认证组件
│   ├── business/      # 业务组件
│   ├── common/        # 通用组件
│   ├── seo/           # SEO组件
│   ├── stress/        # 压力测试组件
│   ├── testing/       # 测试组件
│   └── ui/            # UI基础组件
├── pages/             # 页面组件
├── hooks/             # 自定义Hooks
├── types/             # TypeScript类型
├── utils/             # 工具函数
├── services/          # API服务
└── styles/            # 样式文件

backend/               # 后端代码（共享）
electron/              # Electron代码（共享）
shared/                # 共享代码
```

## 🔧 常用命令

### 开发命令
```bash
# 前端开发服务器
npm run frontend

# 完整开发环境（前端+后端）
npm run dev

# 自定义端口
cross-env VITE_DEV_PORT=5175 npm run frontend
```

### 代码质量
```bash
# ESLint检查
npm run lint

# 自动修复
npm run lint:fix

# 代码格式化
npm run format

# TypeScript检查
npm run type-check
```

### 构建
```bash
# 生产环境构建
npm run build

# 构建前检查
npm run build:check

# 预览构建结果
npm run preview
```

### 测试
```bash
# 运行测试
npm run test

# 监听模式
npm run test:watch

# UI测试界面
npm run test:ui

# E2E测试
npm run e2e
```

## 🎨 技术栈

### 核心
- **React 18.2** - UI框架
- **TypeScript** - 类型系统
- **Vite 4.5** - 构建工具
- **React Router 6** - 路由管理

### UI组件库
- **Ant Design 5.27** - 企业级UI
- **Material-UI 7.3** - Material Design
- **TailwindCSS 3.3** - 实用CSS框架
- **Lucide React** - 图标库

### 状态管理
- **React Hooks** - 内置状态管理
- **ahooks 3.9** - React Hooks库
- **Context API** - 全局状态

### 数据可视化
- **Chart.js 4.5** - 图表库
- **Recharts 2.15** - React图表
- **react-chartjs-2** - Chart.js React封装

### 其他
- **Axios** - HTTP客户端
- **date-fns** - 日期处理
- **react-hot-toast** - 通知提示

## 📝 开发规范

### 组件编写
```typescript
// ✅ 好的实践
import React from 'react';
import { Button } from 'antd';

interface Props {
  title: string;
  onClick: () => void;
}

export const MyComponent: React.FC<Props> = ({ title, onClick }) => {
  return <Button onClick={onClick}>{title}</Button>;
};
```

### 提交规范
```bash
git add frontend/
git commit -m "feat(ui): 添加用户列表组件"
git commit -m "fix(style): 修复按钮样式问题"
git commit -m "refactor(component): 重构导航栏组件"
```

## 🔗 与其他窗口的关系

### 窗口2 - 后端 (D:\myproject\Test-Web-backend)
- 调用后端API（http://localhost:3001/api）
- 接收实时数据（WebSocket）

### 窗口3 - Electron (D:\myproject\Test-Web-electron)
- 共享前端代码
- Electron渲染进程加载本窗口页面

### 窗口4 - 测试 (D:\myproject\Test-Web-testing)
- 测试本窗口的组件
- 验证UI功能

## 🔍 故障排查

### 端口被占用
```bash
# 检查端口
netstat -ano | findstr :5174

# 杀死进程
taskkill /PID <PID> /F

# 使用其他端口
cross-env VITE_DEV_PORT=5175 npm run frontend
```

### 热更新不工作
```bash
# 重启Vite服务
# Ctrl+C 停止，然后重新运行
npm run frontend
```

### 依赖问题
```bash
# 重新安装
npm install

# 清理缓存
npm cache clean --force
npm install
```

## 📚 相关文档

### 本地文档
- 项目README: `./README.md`
- 组件库文档: `frontend/components/README.md`
- 前端开发参考: `.dev/window1-frontend-reference.md`

### Worktree相关
- 工作树列表: `git worktree list`
- 合并指南: `.dev/WORKTREE_MERGE_GUIDE.md`
- 快速参考: `.dev/QUICK_START_REFERENCE.md`
- 共享仓库说明: `.dev/WORKTREE_SHARED_REPO_DEMO.md`

### 外部文档
- Ant Design: https://ant.design/
- Material-UI: https://mui.com/
- TailwindCSS: https://tailwindcss.com/
- React: https://react.dev/

## 💡 开发提示

### 热更新
- 保存文件自动刷新
- CSS更改无需刷新页面
- React组件支持HMR

### 调试
```bash
# 浏览器开发工具
F12 或 Ctrl+Shift+I

# React DevTools
# 安装Chrome扩展: React Developer Tools
```

### 性能优化
```typescript
// 使用React.memo
export const MyComponent = React.memo(({ data }) => {
  return <div>{data}</div>;
});

// 使用useMemo
const value = useMemo(() => compute(a, b), [a, b]);

// 使用useCallback
const handler = useCallback(() => {
  doSomething();
}, []);
```

## 🎯 当前任务建议

作为前端UI开发窗口，可以专注于：

1. **组件开发**
   - 创建新的React组件
   - 优化现有组件
   - 提取可复用组件

2. **页面开发**
   - 实现新页面
   - 优化页面布局
   - 改进用户体验

3. **样式优化**
   - TailwindCSS样式
   - 响应式设计
   - 主题定制

4. **状态管理**
   - 自定义Hooks
   - Context管理
   - 数据流优化

## 🌐 API集成

### API基础URL
```typescript
// 开发环境
const API_BASE_URL = 'http://localhost:3001/api';

// 使用Axios
import axios from 'axios';

const api = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});
```

### API模块
- `/api/auth` - 认证
- `/api/users` - 用户
- `/api/stress` - 压力测试
- `/api/seo` - SEO分析
- `/api/compatibility` - 兼容性测试

## 🔒 安全注意事项

- ✅ 验证所有用户输入
- ✅ 使用环境变量存储配置
- ✅ 实施CSRF防护
- ✅ XSS防护
- ✅ 安全的路由保护

## 🚦 状态检查

```bash
# 检查开发服务器
curl http://localhost:5174

# 检查构建配置
cat vite.config.ts

# 查看依赖版本
npm list react vite typescript
```

## 🎨 UI组件示例

### Ant Design
```typescript
import { Button, Form, Input, message } from 'antd';

<Form onFinish={handleSubmit}>
  <Form.Item name="username" rules={[{ required: true }]}>
    <Input placeholder="Username" />
  </Form.Item>
  <Form.Item>
    <Button type="primary" htmlType="submit">
      Submit
    </Button>
  </Form.Item>
</Form>
```

### TailwindCSS
```typescript
<div className="flex items-center justify-between p-4 bg-gray-100 rounded-lg">
  <h2 className="text-2xl font-bold text-gray-800">Title</h2>
  <button className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
    Click Me
  </button>
</div>
```

---

**最后更新**: 2025-10-06  
**分支**: feature/frontend-ui-dev  
**端口**: 5174  
**状态**: ✅ 开发就绪

**开始工作**: `npm run frontend`

---

## 🎊 特别说明

这是**主仓库**和**工作树管理中心**：
- 所有Git操作推荐在此执行
- 合并代码在此进行
- 管理其他工作树
- 共享的 .git 仓库位于此处

